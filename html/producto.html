<!doctype html>
<html lang="es-CO">
<head>
  <!--
    PRODUCTO — VERSIÓN COMENTADA
    - Propósito: explicar bloques sin afectar diseño.
    - Incluye fix de ruta de site.enhancements.js y (si aplica) ajuste de sesión.
  -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Producto – MagicColombia</title>

  <link rel="stylesheet" href="../css/style.magiccolombia.css">
  <link rel="icon" type="image/png" href="../images/Logo/01.png">

  <style>
    .product-hero{display:grid;grid-template-columns:1fr;gap:24px}
    .p-media{background:#fff;border:1px solid rgba(0,0,0,.06);border-radius:16px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.06)}
    .p-main{position:relative}
    .p-main img{width:100%;height:420px;object-fit:contain;background:#f6f7fb;border-radius:12px}
    .p-badge{position:absolute;left:12px;top:12px;padding:6px 10px;border-radius:999px;font-size:.85rem}
    .p-badge.ok{background:#ecfdf5;color:#065f46;border:1px solid #10b981}
    .p-badge.out{background:#fff1f2;color:#9f1239;border:1px solid #f43f5e}
    .thumbs{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
    .thumbs button{width:80px;height:64px;border:1px solid rgba(0,0,0,.1);border-radius:10px;overflow:hidden;background:#fff;cursor:pointer}
    .thumbs img{width:100%;height:100%;object-fit:contain;background:#f6f7fb}
    .thumbs button.active{outline:2px solid #6d28d9;outline-offset:2px}

    .p-info h1{margin:.25rem 0 0}
    .p-price{font-size:1.25rem;font-weight:700;margin:.5rem 0 1rem}
    .qty{display:flex;gap:8px;align-items:center}
    .qty input{width:72px;text-align:center;height:40px;border:1px solid rgba(0,0,0,.08);border-radius:10px}
    .btns{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .btn-primary{background:#6d28d9;color:#fff;border:none;padding:10px 14px;border-radius:12px;cursor:pointer;box-shadow:0 8px 20px rgba(109,40,217,.18)}
    .btn-outline{background:#fff;color:#6d28d9;border:1px solid #6d28d9;padding:10px 14px;border-radius:12px;cursor:pointer}
    .btn-primary[disabled], .btn-outline[disabled]{opacity:.6;cursor:not-allowed}

    .tabs{display:flex;gap:8px;margin-top:24px;border-bottom:1px solid rgba(0,0,0,.08)}
    .tab{padding:10px 14px;border-radius:10px 10px 0 0;cursor:pointer}
    .tab.active{background:#fff;border:1px solid rgba(0,0,0,.08);border-bottom-color:#fff}
    .tab-panel{display:none;padding:16px;border:1px solid rgba(0,0,0,.08);border-top:none;border-radius:0 0 12px 12px;background:#fff}
    .tab-panel.active{display:block}

    .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;background:#f1f5f9;margin-right:6px;font-size:.85rem}

    @media(min-width:1024px){ .product-hero{grid-template-columns:1.1fr 1fr} }
  </style>
</head>

<body class="theme-light">
  
 <!-- HEADER -->
<header class="site-header">
  <div class="nav">
    <div class="nav-left">
      <a class="brand" href="/cosmix/index.html" aria-label="MagicColombia">
        <img src="/cosmix/images/Logo/01.png" alt="MagicColombia">
      </a>

      <nav id="primary-menu" class="menu menu-icons" aria-label="Navegación principal">
        <a href="/cosmix/html/catalogo.html" class="icon-link" title="Catálogo" aria-label="Catálogo">
          <svg aria-hidden="true" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <rect x="3" y="3" width="7" height="7" rx="2"></rect>
            <rect x="14" y="3" width="7" height="7" rx="2"></rect>
            <rect x="3" y="14" width="7" height="7" rx="2"></rect>
            <rect x="14" y="14" width="7" height="7" rx="2"></rect>
          </svg>
          <span class="sr-only">Catálogo</span>
        </a>

        <a href="/cosmix/html/blog.html" class="icon-link" title="Post" aria-label="Post">
          <svg aria-hidden="true" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <rect x="3" y="4" width="18" height="16" rx="2"></rect>
            <line x1="7" y1="8" x2="17" y2="8"></line>
            <line x1="7" y1="12" x2="17" y2="12"></line>
            <line x1="7" y1="16" x2="12" y2="16"></line>
          </svg>
          <span class="sr-only">Post</span>
        </a>
      </nav>
    </div>

    <!-- Botones de autenticación -->
    <!--
  CTA AUTENTICACIÓN
  - [data-guest] visible si NO hay sesión.
  - [data-user] visible si SÍ hay sesión.
  - [data-logout] dispara cierre de sesión vía fetch.
-->
<div class="auth-ctas">
      <!-- Solo INVITADOS (sin sesión) -->
      <a class="btn-outline" href="/cosmix/html/login.html"     data-guest>Iniciar sesión</a>
      <a class="btn"         href="/cosmix/html/registro.html"  data-guest>Registrarse</a>

      <!-- Solo USUARIOS CON SESIÓN -->
      <a class="btn-outline" href="/cosmix/magic_auth_php/cuenta.php" data-user>Mi cuenta</a>
      <a class="btn" href="#" data-user data-logout>Salir</a>
    </div>

    <button class="burger" type="button" data-menu-toggle aria-label="Abrir menú"
            aria-controls="primary-menu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

  <main>
  
    <nav class="container back-strip">
  <a href="tienda.html" class="btn-primary btn-back" aria-label="Volver al catálogo">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
      <polyline points="15 18 9 12 15 6"></polyline>
      <line x1="9" y1="12" x2="21" y2="12"></line>
    </svg>
    Volver al catálogo
  </a>
</nav>


    <section class="container pad-y">
      <div class="product-hero">
        <div class="p-media">
          <div class="p-main">
            <span id="pStockBadge" class="p-badge"></span>
            <img id="pImage" alt="">
          </div>
          <div id="pThumbs" class="thumbs"></div>
        </div>

        <div class="p-info">
          <span id="pCategory" class="pill"></span>
          <h1 id="pName" class="h3"></h1>
          <div id="pPrice" class="p-price"></div>

          <div class="qty">
            <label for="qty" class="small">Cantidad</label>
            <input id="qty" type="number" min="1" step="1" value="1">
          </div>

          <div class="btns">
            <button id="addToCart" class="btn-primary">Añadir al carrito</button>
            <button id="buyNow" class="btn-outline">Comprar ahora</button>
          </div>

          <div class="tabs">
            <button class="tab active" data-tab="desc">Descripción</button>
            <button class="tab" data-tab="specs">Especificaciones</button>
            <button class="tab" data-tab="ship">Envíos y devoluciones</button>
          </div>
          <div id="tab-desc" class="tab-panel active"></div>
          <div id="tab-specs" class="tab-panel"></div>
          <div id="tab-ship" class="tab-panel"></div>
        </div>
      </div>
    </section>

    <section class="container pad-y">
      <h2 class="h4">También podría interesarte</h2>
      <ul id="related" class="fc-grid"></ul>
    </section>
  </main>

  <!-- FOOTER -->
  <!--
  FOOTER
  - Navegación secundaria, datos de contacto y soporte.
-->
<footer class="site-footer">
    <div class="container grid">
      <section>
        <h4>MagicColombia</h4>
        <p>Desde 2002 con la comunidad TCG.</p>
        <small>© 2025 MagicColombia. Todos los derechos reservados.</small>
      </section>
      <section>
        <h4>Links Rápidos</h4>
        <ul>
          <li><a href="html/search.html">Búsqueda</a></li>
          <li><a href="html/terminos.html">Términos del servicio</a></li>
          <li><a href="html/reembolsos.html">Política de reembolso</a></li>
        </ul>
      </section>
      <section>
        <h4>Sobre Nosotros</h4>
        <p>Carrera 65 # 5-107 · Cali · Colombia</p>
        <p>E-mail: <a href="mailto:ventas@magiccolombia.com">ventas@magiccolombia.com</a></p>
        <p>WhatsApp/Celular 3045511764</p>
      </section>
    </div>
  </footer>

<script src="/cosmix/magic_auth_php/snippets_front.js" defer></script>


<script>
/*
  GESTIÓN DE SESIÓN (versión coherente con data-*)
  - Alterna .hidden en [data-guest] / [data-user]
  - Cierra sesión con [data-logout]
*/
(async () => {
  try {
    const res = await fetch('/cosmix/magic_auth_php/ping.php', { credentials: 'include' });
    const data = await res.json().catch(() => ({}));
    const logged = data && data.ok === true && data.usuario;
    const guestEls = document.querySelectorAll('[data-guest]');
    const userEls  = document.querySelectorAll('[data-user]');
    const logoutEl = document.querySelector('[data-logout]');
    guestEls.forEach(el => el.classList.toggle('hidden', !!logged));
    userEls.forEach(el  => el.classList.toggle('hidden', !logged));
    logoutEl?.addEventListener('click', async (e) => {
      e.preventDefault();
      await fetch('/cosmix/magic_auth_php/logout.php', { method:'POST', credentials:'include' });
      location.href = '/cosmix/html/login.html';
    });
  } catch {}
})();
</script>



  <!-- JS -->
  <script src="../js/data.products.js" defer></script>
  <script src="../js/producto.js" defer></script>
  <script src="/cosmix/js/site.enhancements.js" defer></script>
</body>
</html>
